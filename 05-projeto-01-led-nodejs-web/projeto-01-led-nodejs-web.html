<!--
  Oficina Como Criar Coisas Inteligentes com NodeJS e Arduino
  Feira Polo Digital de Manaus - 28/11/2018
  Facilitador:       Prof. Orlewilson Bentes Maia
  Data Criacao:      27/11/2018
  Data Atualizacao:  27/11/2018
  Descricao:         Ligar/desligar LED com NodeJS + Página Web
-->

<!DOCTYPE html>
<html>
   <head>
      <title>Ligar/desligar LED com NodeJS + Página Web</title>

      <!-- importando bibliotecas -->
      <script src="/socket.io/socket.io.js"></script>
      
      <!-- script para comunicar com o servidor -->
      <script>
         // criando socket na porta 8080
         var socket = io('http://localhost:8080');
         
         // aguarda alguma resposta do servidor
         socket.on('respostaLed', function (data) {
            // atualiza na página web se o LED foi ligado ou desligado
            document.getElementById('estadoLed').innerHTML = data; 
         });

         // função para ligar LED
         function ligar(){
            // envia mensagem para ligar LED
            socket.emit('ligar','');
         }

         // função para desligar LED
         function desligar(){
            // envia mensagem para desligar LED
            socket.emit('desligar','');
         }
      </script>

   </head>
   <body>
      <h1>Ligar/desligar LED com NodeJS + Página Web</h1>
      <p>Estado do LED: <span id="estadoLed">não sei</span></p>
      <br/>
      <button type="button" onclick="ligar()">Ligar</button>
      <button type="button" onclick="desligar()">Desligar</button>
   </body>
</html> 